# Cross-platform environment for AirSplatMap
# Works on Windows and Linux with NVIDIA GPU
#
# Usage:
#   conda env create -f environment_crossplatform.yml
#   conda activate airsplatmap
#
# For graphdeco/monogs/splatam engines (optional, requires C++ compiler):
#   Windows: Install Visual Studio Build Tools 2019 first
#            https://aka.ms/vs/16/release/vs_buildtools.exe
#   Then:
#     cd submodules/gaussian-splatting/submodules/diff-gaussian-rasterization
#     pip install .
#     cd ../simple-knn
#     pip install .
#
name: airsplatmap
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults
dependencies:
  # Python
  - python=3.10
  - pip>=23.0
  
  # PyTorch with CUDA (cross-platform from pytorch channel)
  - pytorch>=2.1.0
  - torchvision>=0.16.0
  - pytorch-cuda=12.1
  
  # Core scientific stack (conda packages - more reliable cross-platform)
  - numpy>=1.24.0,<2.0
  - scipy>=1.10.0
  - matplotlib>=3.7.0
  - pandas>=2.0.0
  - pillow>=9.5.0
  - pyyaml>=6.0
  - tqdm>=4.65.0
  - requests>=2.28.0
  - scikit-image>=0.21.0
  
  # OpenCV from conda-forge (better Windows support)
  - opencv>=4.8.0
  
  # Visualization
  - seaborn>=0.12.0
  - plotly>=5.14.0
  
  # pip packages (not available in conda or need specific versions)
  - pip:
      # RealSense camera
      - pyrealsense2>=2.50.0
      # 3D processing
      - open3d>=0.17.0
      - plyfile>=1.0.0
      # 3DGS engine (gsplat)
      - gsplat>=1.0.0
      # Trajectory evaluation
      - evo>=1.20.0
      # Experiment tracking
      - wandb>=0.15.0
      # Web dashboard
      - websockets>=12.0
      # MonoGS dependency
      - munch>=4.0.0
