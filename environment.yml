# AirSplatMap - Cross-Platform Conda Environment
# ================================================
# Works on Windows, Linux (x86_64 and aarch64/Jetson), and macOS
#
# Installation:
#   conda env create -f environment.yml
#   conda activate airsplatmap
#   # Then install PyTorch with CUDA:
#   pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu124
#
# For graphdeco/monogs/splatam engines (optional, requires C++ compiler):
#   Windows: Install Visual Studio Build Tools 2019 first
#            https://aka.ms/vs/16/release/vs_buildtools.exe
#   Then:
#     cd submodules/gaussian-splatting/submodules/diff-gaussian-rasterization
#     pip install .
#     cd ../simple-knn
#     pip install .
#
# Optional External VO/VIO Systems:
#   DROID-SLAM: git clone --recursive https://github.com/princeton-vl/DROID-SLAM.git && cd DROID-SLAM && pip install -e .
#   DPVO: git clone https://github.com/princeton-vl/DPVO.git && cd DPVO && pip install -e .
#
name: airsplatmap
channels:
  - conda-forge
  - defaults
dependencies:
  # ===== Python =====
  - python=3.10
  - pip>=23.0
  - setuptools>=65.0
  - wheel>=0.40
  
  # ===== Core Scientific Stack =====
  - numpy>=1.24.0,<2.0
  - scipy>=1.10.0
  - matplotlib>=3.7.0
  - pandas>=2.0.0
  - pillow>=9.5.0
  - pyyaml>=6.0
  - tqdm>=4.65.0
  - requests>=2.28.0
  - scikit-image>=0.21.0
  - scikit-learn>=1.2.0
  
  # ===== OpenCV =====
  - opencv>=4.8.0
  
  # ===== Visualization =====
  - seaborn>=0.12.0
  - plotly>=5.14.0
  
  # ===== Development Tools =====
  - ipython>=8.0.0
  - jupyter>=1.0.0
  - ipywidgets>=8.0.0
  
  # ===== pip packages =====
  - pip:
      # ----- NOTE: PyTorch must be installed separately after env creation -----
      # Run: pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu124
      
      # ----- RealSense Camera -----
      - pyrealsense2>=2.50.0
      
      # ----- 3D Processing -----
      - open3d>=0.17.0
      - plyfile>=1.0.0
      - trimesh>=4.0.0
      
      # ----- 3DGS Engine (gsplat) -----
      - gsplat>=1.0.0
      
      # ----- Trajectory Evaluation -----
      - evo>=1.20.0
      
      # ----- Experiment Tracking -----
      - wandb>=0.15.0
      
      # ----- Web Dashboard -----
      - websockets>=12.0
      - flask>=2.0.0
      - dash>=2.0.0
      
      # ----- MonoGS Dependencies -----
      - munch>=4.0.0
      - lpips>=0.1.4
      - pytorch-msssim>=1.0.0
      
      # ----- Image Processing -----
      - imageio>=2.30.0
      - imgviz>=1.7.0
      
      # ----- Utilities -----
      - colorama>=0.4.6
      - rich>=13.0.0
      - natsort>=8.0.0
      - glfw>=2.5.0
      - pyopengl>=3.1.0
      - pyglm>=2.5.0
      - configargparse>=1.5.0
      
      # ----- Deep Learning Core -----
      - timm>=0.9.0
      - torchmetrics>=1.0.0
      - transformers>=4.30.0
      
      # ----- Pose Estimation (Deep Learning Matchers) -----
      - kornia>=0.7.0
      - git+https://github.com/cvg/LightGlue.git
      
      # ----- ROS bag support (optional) -----
      - rosbags>=0.9.0
      
      # ----- Quaternion math -----
      - pyquaternion>=0.9.9
